version: "2.0"
stories:
- story: missing_object_story
  steps:
  - intent: EXTERNAL_missing_from
  - action: action_ask_for_info
  - intent: bring
  - action: action_bring

- story: offer alternative
  steps:
  - intent: EXTERNAL_alternative
  - action: action_offer_alternative
  - checkpoint: ask_confirmation

- story: confirm alternative
  steps:
  - checkpoint: ask_confirmation
  - intent: affirm
  - action: action_alternative_react

- story: deny alternative
  steps:
  - checkpoint: ask_confirmation
  - intent: deny
  - action: action_alternative_react
  
- story: start interaction
  steps:
  - intent: EXTERNAL_person_detected
  - slot_was_set:
    - shopping: zuhause
  - action: utter_greet
  - intent: greet
  - action: action_greet_person
  - action: utter_answ_greet
  - intent: more_info
  - slot_was_set:
    - info_type: Greifarm
  - action: action_more_info
  - checkpoint: info_confirmation

- story: start interaction 2
  steps:
  - intent: EXTERNAL_person_detected
  - slot_was_set:
      - shopping: zuhause
  - action: utter_greet
  - intent: greet
  - action: action_greet_person
  - action: utter_answ_greet

- story: start introduction
  steps:
  - intent: greet
  - action: action_greet_person
  - action: utter_answ_greet
  - intent: more_info
  - slot_was_set:
      - info_type: Sensoren
  - action: action_more_info
  - checkpoint: info_confirmation

- story: affirm info
  steps:
  - checkpoint: info_confirmation
  - intent: affirm
  - action: action_more_info
  - action: utter_request_memorize
  - action: action_memorize
  - intent: affirm
  - intent: EXTERNAL_anomaly_detected
  - slot_was_set:
      - anomaly: bleiche
  - action: action_anomaly_detected
  - intent: moveto
  - action: action_anomaly_react

- story: deny info
  steps:
  - checkpoint: info_confirmation
  - intent: deny
  - action: utter_request_memorize
  - intent: affirm
  - action: action_memorize
  - intent: EXTERNAL_anomaly_detected
  - slot_was_set:
      - anomaly: bleiche
  - action: action_anomaly_detected
  - intent: deny
  - action: action_anomaly_react

- story: anomaly detected
  steps:
  - intent: EXTERNAL_anomaly_detected
  - slot_was_set:
    - anomaly: bleiche
  - action: action_anomaly_detected
  - intent: affirm
  - action: action_anomaly_react

- story: anomaly putzmittel
  steps:
  - intent: EXTERNAL_anomaly_detected
  - slot_was_set:
    - anomaly: Putzmittel
  - action: action_anomaly_detected
  - intent: moveto
  - action: action_anomaly_react      

- story: anomaly detected deny
  steps:
  - intent: EXTERNAL_anomaly_detected
  - slot_was_set:
    - anomaly: bleiche
  - action: action_anomaly_detected
  - intent: deny
  - action: action_anomaly_react
